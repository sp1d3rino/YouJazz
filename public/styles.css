* { box-sizing: border-box; margin: 0; padding: 0; }
body { font-family: 'Courier New', monospace; background: #0a0a0a; color: #eee; }

.container { max-width: 1600px; margin: 0 auto; padding: 20px; }
header { text-align: center; margin-bottom: 20px; }
header h1 { font-size: 2.5em; margin-bottom: 10px; }
#song-title { font-size: 1.8em; padding: 10px; width: 600px; background: #222; border: 2px solid #555; color: #eee; text-align: center; border-radius: 8px; }

.controls { text-align: center; margin: 20px 0; padding: 15px; background: #1a1a1a; border-radius: 12px; }
.controls button { padding: 10px 20px; margin: 0 10px; background: #27ae60; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: bold; }

.main { display: grid; grid-template-columns: 220px 1fr 180px; gap: 24px; }

.chord-palette { background: #222; padding: 20px; border-radius: 12px; }
.chord-list { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
.chord-btn {
  padding: 18px; background: #444; text-align: center; border-radius: 8px;
  font-weight: bold; cursor: move; user-select: none; transition: 0.2s;
}
.chord-btn:hover { background: #555; transform: translateY(-3px); }

#lead-sheet {
  display: flex;
  flex-direction: column;
  gap: 16px;
  background: #111;
  padding: 30px;
  border-radius: 16px;
  border: 4px solid #333;
}

.sheet-row {
  display: grid;
  grid-template-columns: repeat(8, 1fr);
  gap: 12px;
}

.measure {
  background: #1e1e1e;
  border: 2px solid #444;
  border-radius: 10px;
  min-height: 100px;
  padding: 10px;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: flex-start;
  gap: 6px;
  overflow: hidden;
}

.measure.empty {
  border-style: dashed;
  background: transparent;
}

.chord-box {
  background: #3498db;
  color: white;
  padding: 12px 8px;
  border-radius: 8px;
  text-align: center;
  font-weight: bold;
  font-size: 1.4em;
  cursor: move;
  user-select: none;
  box-shadow: 0 4px 12px rgba(0,0,0,0.5);
  flex: 1;
  min-width: 0;
  position: relative;
}

.chord-box:hover { background: #5ab3f0; }

.chord-box .remove {
  position: absolute;
  top: 2px; right: 4px;
  font-size: 16px;
  opacity: 0.7;
  cursor: pointer;
}

.player-controls button {
  width: 100%; padding: 20px; margin: 10px 0; font-size: 1.5em; border: none; border-radius: 10px; color: white; cursor: pointer;
}
#play { background: #27ae60; }
#stop { background: #e74c3c; }
#save-song { background: #3498db; }
#load-song { background: #9b59b6; }

 

.select-wrapper {
  position: relative;
  display: inline-block;
}

.select-wrapper::after {
  content: 'â–¼';
  position: absolute;
  right: 12px;
  top: 50%;
  transform: translateY(-50%);
  pointer-events: none;
  color: #aaa;
  font-size: 0.8em;
}

#song-list {
  padding: 12px 36px 12px 16px;
  background: #222;
  border: 2px solid #444;
  border-radius: 10px;
  color: #eee;
  font-size: 1em;
  min-width: 220px;
  appearance: none;
  cursor: pointer;
  outline: none;
}

#song-list:hover {
  border-color: #666;
}

#song-list:focus {
  border-color: #3498db;
  box-shadow: 0 0 8px rgba(52, 152, 219, 0.4);
}

.danger {
  background: #e74c3c !important;
}

.danger:hover {
  background: #c0392b !important;
}

.grid-setup {
  display: flex;
  gap: 16px;
  align-items: center;
  flex-wrap: wrap;
}

.grid-setup input[type="number"] {
  width: 70px;
  padding: 8px;
  background: #333;
  border: 1px solid #555;
  border-radius: 6px;
  color: #eee;
  text-align: center;
}

/* Modal griglia iniziale */
#grid-setup-modal {
  position: fixed;
  top: 0; left: 0; width: 100%; height: 100%;
  background: rgba(0,0,0,0.95);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
}

.modal-content {
  background: #1a1a1a;
  padding: 40px;
  border-radius: 16px;
  text-align: center;
  border: 3px solid #333;
  min-width: 360px;
}

.modal-content h2 {
  margin-bottom: 20px;
  font-size: 2em;
}

.grid-inputs {
  display: flex;
  justify-content: center;
  gap: 30px;
  margin: 30px 0;
}

.grid-inputs label {
  font-size: 1.2em;
}

.grid-inputs input[type="number"] {
  width: 80px;
  padding: 10px;
  font-size: 1.4em;
  text-align: center;
  background: #333;
  border: 2px solid #555;
  border-radius: 8px;
  color: #eee;
}

#create-grid {
  padding: 14px 40px;
  font-size: 1.3em;
  background: #27ae60;
  color: white;
  border: none;
  border-radius: 10px;
  cursor: pointer;
  margin-top: 20px;
}

/* Pulsante New */
#new-song {
  background: #3498db;
  color: white;
  padding: 10px 20px;
  border: none;
  border-radius: 8px;
  font-weight: bold;
  cursor: pointer;
}
#new-song:hover { background: #2980b9; }

/* Griglia corretta come tabella */
#lead-sheet {
  display: grid;
  gap: 16px;
  padding: 30px;
  background: #111;
  border-radius: 16px;
  border: 4px solid #333;
  min-height: 600px;
}

/* Si aggiorna dinamicamente con JS */